# 剧集单词预览功能

## 🎯 功能概述

剧集单词预览功能允许用户预览剧集下的热门单词，下载单词包进行学习，并通过单词预览了解剧集的学习价值，帮助选择适合的剧集观看。

## ✨ 主要特性

### 1. 剧集单词预览
- **单词统计**: 显示剧集下的总单词数、用户数量、难度等级等
- **热门单词**: 展示被最多用户标记的单词及其频率
- **词性分布**: 统计名词、动词、形容词、副词的数量分布
- **学习时间估算**: 基于单词数量估算学习时间

### 2. 单词包下载
- **Essential包**: 核心词汇（30个单词），适合快速学习
- **Complete包**: 完整词汇，包含所有标记的单词
- **Beginner包**: 初级词汇（20个单词），适合初学者

### 3. 运营数据支持
- **热门剧集排行**: 按单词数量排序的热门剧集
- **用户行为分析**: 了解哪些剧集最受欢迎
- **学习效果跟踪**: 跟踪用户的学习进度和偏好

## 🚀 使用方法

### 1. 访问功能入口
- 在 `ShowsScreen` 中切换到"推荐"TAB
- 在推荐内容上方会看到"剧集单词预览"功能入口

### 2. 浏览热门剧集
- 点击"浏览热门剧集"按钮
- 查看按单词数量排序的热门剧集
- 了解每个剧集的学习价值

### 3. 查看我的剧集单词
- 点击"我的剧集单词"按钮（仅在有剧集时显示）
- 查看用户已添加剧集的单词统计
- 下载对应的单词包进行学习

### 4. 下载单词包
- 选择适合的单词包类型（Essential/Complete/Beginner）
- 系统自动生成包含单词、定义、例句的单词包
- 下载后可在学习列表中使用

## 🏗️ 技术架构

### 后端系统
- **数据模型**: `ShowWordPreview`, `ShowWordPackage`
- **服务层**: `ShowWordService` - 处理业务逻辑
- **控制器**: `ShowWordController` - 处理HTTP请求
- **路由**: `/api/show-words/*` - API端点

### 前端系统
- **预览页面**: `ShowWordPreviewScreen` - 完整的剧集单词预览界面
- **API服务**: `showWordService` - 前端API调用服务
- **导航集成**: 集成到现有的导航系统中

### 数据库设计
- **showwordpreviews**: 剧集单词预览集合
- **showwordpackages**: 剧集单词包集合
- **索引优化**: 支持快速查询和搜索

## 📊 API接口

### 获取剧集单词预览
```
GET /api/show-words/preview/:showId
```

### 生成剧集单词包
```
POST /api/show-words/generate-package
Body: { showId, userId, packageType }
```

### 获取用户单词包列表
```
GET /api/show-words/user-packages/:userId
```

### 更新单词包学习进度
```
PUT /api/show-words/update-progress
Body: { packageId, userId, completedWords }
```

### 搜索剧集单词预览
```
GET /api/show-words/search?query=&language=&limit=
```

### 获取热门剧集
```
GET /api/show-words/popular?limit=&language=
```

## 🔧 安装和配置

### 1. 数据库初始化
```bash
cd services/api
node scripts/init-show-words.js
```

### 2. 后端服务启动
```bash
cd services/api
npm install
npm run dev
```

### 3. 前端应用启动
```bash
cd apps/mobile
npm install
npm start
```

## 🎨 界面设计

### 功能入口区域
- 位于推荐TAB顶部
- 使用卡片式设计，突出功能特点
- 包含两个主要按钮：浏览热门剧集、我的剧集单词

### 预览页面
- 剧集信息卡片：标题、描述、评分、集数等
- 单词统计卡片：数量、用户、难度、时间等
- 热门单词列表：单词、频率、定义、难度标签
- 下载选项：三种类型的单词包选择

## 📈 运营价值

### 1. 用户决策支持
- 帮助用户了解剧集的学习价值
- 通过单词预览决定是否观看该剧
- 提供学习时间估算，合理规划学习

### 2. 内容推荐优化
- 基于单词数据推荐相似内容
- 根据难度等级推荐适合的剧集
- 热门单词包推荐

### 3. 学习效果提升
- 系统化的单词学习包
- 基于剧集场景的单词学习
- 学习进度跟踪和统计

### 4. 数据分析支持
- 剧集受欢迎度分析
- 用户学习偏好分析
- 内容质量评估

## 🔮 未来扩展

### 1. 智能推荐
- 基于用户学习历史的个性化推荐
- AI驱动的剧集-单词匹配算法
- 学习路径规划

### 2. 社交功能
- 用户单词包分享
- 学习小组和讨论
- 排行榜和成就系统

### 3. 内容生态
- 剧集评分和评论
- 单词学习笔记
- 学习资源推荐

## 🐛 常见问题

### Q: 为什么看不到"我的剧集单词"按钮？
A: 该按钮只在用户添加了剧集后才会显示。

### Q: 单词包下载失败怎么办？
A: 检查网络连接，确保后端服务正常运行。

### Q: 如何更新学习进度？
A: 在学习过程中调用更新进度API，系统会自动计算完成率。

## 📝 更新日志

### v1.0.0 (2025-01-XX)
- 初始版本发布
- 基础剧集单词预览功能
- 三种类型单词包下载
- 完整的运营数据支持

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个功能！

## �� 许可证

本项目采用MIT许可证。

// æ—¥è¯­è½¬ç½—é©¬éŸ³å‡½æ•°ï¼ˆå¤åˆ¶è‡ªWordCardç»„ä»¶ï¼‰
const convertToRomaji = (japaneseText) => {
  // ç®€å•çš„å‡ååˆ°ç½—é©¬éŸ³æ˜ å°„
  const hiraganaToRomaji = {
    'ã‚': 'a', 'ã„': 'i', 'ã†': 'u', 'ãˆ': 'e', 'ãŠ': 'o',
    'ã‹': 'ka', 'ã': 'ki', 'ã': 'ku', 'ã‘': 'ke', 'ã“': 'ko',
    'ã•': 'sa', 'ã—': 'shi', 'ã™': 'su', 'ã›': 'se', 'ã': 'so',
    'ãŸ': 'ta', 'ã¡': 'chi', 'ã¤': 'tsu', 'ã¦': 'te', 'ã¨': 'to',
    'ãª': 'na', 'ã«': 'ni', 'ã¬': 'nu', 'ã­': 'ne', 'ã®': 'no',
    'ã¯': 'ha', 'ã²': 'hi', 'ãµ': 'fu', 'ã¸': 'he', 'ã»': 'ho',
    'ã¾': 'ma', 'ã¿': 'mi', 'ã‚€': 'mu', 'ã‚': 'me', 'ã‚‚': 'mo',
    'ã‚„': 'ya', 'ã‚†': 'yu', 'ã‚ˆ': 'yo',
    'ã‚‰': 'ra', 'ã‚Š': 'ri', 'ã‚‹': 'ru', 'ã‚Œ': 're', 'ã‚': 'ro',
    'ã‚': 'wa', 'ã‚’': 'wo', 'ã‚“': 'n',
    'ãŒ': 'ga', 'ã': 'gi', 'ã': 'gu', 'ã’': 'ge', 'ã”': 'go',
    'ã–': 'za', 'ã˜': 'ji', 'ãš': 'zu', 'ãœ': 'ze', 'ã': 'zo',
    'ã ': 'da', 'ã¢': 'ji', 'ã¥': 'zu', 'ã§': 'de', 'ã©': 'do',
    'ã°': 'ba', 'ã³': 'bi', 'ã¶': 'bu', 'ã¹': 'be', 'ã¼': 'bo',
    'ã±': 'pa', 'ã´': 'pi', 'ã·': 'pu', 'ãº': 'pe', 'ã½': 'po',
    'ãã‚ƒ': 'kya', 'ãã‚…': 'kyu', 'ãã‚‡': 'kyo',
    'ã—ã‚ƒ': 'sha', 'ã—ã‚…': 'shu', 'ã—ã‚‡': 'sho',
    'ã¡ã‚ƒ': 'cha', 'ã¡ã‚…': 'chu', 'ã¡ã‚‡': 'cho',
    'ã«ã‚ƒ': 'nya', 'ã«ã‚…': 'nyu', 'ã«ã‚‡': 'nyo',
    'ã²ã‚ƒ': 'hya', 'ã²ã‚…': 'hyu', 'ã²ã‚‡': 'hyo',
    'ã¿ã‚ƒ': 'mya', 'ã¿ã‚…': 'myu', 'ã¿ã‚‡': 'myo',
    'ã‚Šã‚ƒ': 'rya', 'ã‚Šã‚…': 'ryu', 'ã‚Šã‚‡': 'ryo',
    'ãã‚ƒ': 'gya', 'ãã‚…': 'gyu', 'ãã‚‡': 'gyo',
    'ã˜ã‚ƒ': 'ja', 'ã˜ã‚…': 'ju', 'ã˜ã‚‡': 'jo',
    'ã³ã‚ƒ': 'bya', 'ã³ã‚…': 'byu', 'ã³ã‚‡': 'byo',
    'ã´ã‚ƒ': 'pya', 'ã´ã‚…': 'pyu', 'ã´ã‚‡': 'pyo',
    'ã£': '', // ä¿ƒéŸ³ï¼Œä¸å‘éŸ³
    'ãƒ¼': '-', // é•¿éŸ³ç¬¦
  };

  // ç‰‡å‡ååˆ°ç½—é©¬éŸ³æ˜ å°„ï¼ˆä¸å¹³å‡åç›¸åŒï¼‰
  const katakanaToRomaji = {
    'ã‚¢': 'a', 'ã‚¤': 'i', 'ã‚¦': 'u', 'ã‚¨': 'e', 'ã‚ª': 'o',
    'ã‚«': 'ka', 'ã‚­': 'ki', 'ã‚¯': 'ku', 'ã‚±': 'ke', 'ã‚³': 'ko',
    'ã‚µ': 'sa', 'ã‚·': 'shi', 'ã‚¹': 'su', 'ã‚»': 'se', 'ã‚½': 'so',
    'ã‚¿': 'ta', 'ãƒ': 'chi', 'ãƒ„': 'tsu', 'ãƒ†': 'te', 'ãƒˆ': 'to',
    'ãƒŠ': 'na', 'ãƒ‹': 'ni', 'ãƒŒ': 'nu', 'ãƒ': 'ne', 'ãƒ': 'no',
    'ãƒ': 'ha', 'ãƒ’': 'hi', 'ãƒ•': 'fu', 'ãƒ˜': 'he', 'ãƒ›': 'ho',
    'ãƒ': 'ma', 'ãƒŸ': 'mi', 'ãƒ ': 'mu', 'ãƒ¡': 'me', 'ãƒ¢': 'mo',
    'ãƒ¤': 'ya', 'ãƒ¦': 'yu', 'ãƒ¨': 'yo',
    'ãƒ©': 'ra', 'ãƒª': 'ri', 'ãƒ«': 'ru', 'ãƒ¬': 're', 'ãƒ­': 'ro',
    'ãƒ¯': 'wa', 'ãƒ²': 'wo', 'ãƒ³': 'n',
    'ã‚¬': 'ga', 'ã‚®': 'gi', 'ã‚°': 'gu', 'ã‚²': 'ge', 'ã‚´': 'go',
    'ã‚¶': 'za', 'ã‚¸': 'ji', 'ã‚º': 'zu', 'ã‚¼': 'ze', 'ã‚¾': 'zo',
    'ãƒ€': 'da', 'ãƒ‚': 'ji', 'ãƒ…': 'zu', 'ãƒ‡': 'de', 'ãƒ‰': 'do',
    'ãƒ': 'ba', 'ãƒ“': 'bi', 'ãƒ–': 'bu', 'ãƒ™': 'be', 'ãƒœ': 'bo',
    'ãƒ‘': 'pa', 'ãƒ”': 'pi', 'ãƒ—': 'pu', 'ãƒš': 'pe', 'ãƒ': 'po',
    'ã‚­ãƒ£': 'kya', 'ã‚­ãƒ¥': 'kyu', 'ã‚­ãƒ§': 'kyo',
    'ã‚·ãƒ£': 'sha', 'ã‚·ãƒ¥': 'shu', 'ã‚·ãƒ§': 'sho',
    'ãƒãƒ£': 'cha', 'ãƒãƒ¥': 'chu', 'ãƒãƒ§': 'cho',
    'ãƒ‹ãƒ£': 'nya', 'ãƒ‹ãƒ¥': 'nyu', 'ãƒ‹ãƒ§': 'nyo',
    'ãƒ’ãƒ£': 'hya', 'ãƒ’ãƒ¥': 'hyu', 'ãƒ’ãƒ§': 'hyo',
    'ãƒŸãƒ£': 'mya', 'ãƒŸãƒ¥': 'myu', 'ãƒŸãƒ§': 'myo',
    'ãƒªãƒ£': 'rya', 'ãƒªãƒ¥': 'ryu', 'ãƒªãƒ§': 'ryo',
    'ã‚®ãƒ£': 'gya', 'ã‚®ãƒ¥': 'gyu', 'ã‚®ãƒ§': 'gyo',
    'ã‚¸ãƒ£': 'ja', 'ã‚¸ãƒ¥': 'ju', 'ã‚¸ãƒ§': 'jo',
    'ãƒ“ãƒ£': 'bya', 'ãƒ“ãƒ¥': 'byu', 'ãƒ“ãƒ§': 'byo',
    'ãƒ”ãƒ£': 'pya', 'ãƒ”ãƒ¥': 'pyu', 'ãƒ”ãƒ§': 'pyo',
    'ãƒƒ': '', // ä¿ƒéŸ³ï¼Œä¸å‘éŸ³
    'ãƒ¼': '-', // é•¿éŸ³ç¬¦
  };

  let result = japaneseText;
  
  // å…ˆå¤„ç†é•¿éŸ³å’Œä¿ƒéŸ³
  result = result.replace(/ãƒ¼/g, '-');
  result = result.replace(/ã£/g, '');
  result = result.replace(/ãƒƒ/g, '');
  
  // å¤„ç†å¹³å‡å
  for (const [hiragana, romaji] of Object.entries(hiraganaToRomaji)) {
    result = result.replace(new RegExp(hiragana, 'g'), romaji);
  }
  
  // å¤„ç†ç‰‡å‡å
  for (const [katakana, romaji] of Object.entries(katakanaToRomaji)) {
    result = result.replace(new RegExp(katakana, 'g'), romaji);
  }
  
  // å¤„ç†æ±‰å­—å’Œå…¶ä»–å­—ç¬¦ï¼ˆä¿æŒåŸæ ·ï¼‰
  result = result.replace(/[ä¸€-é¾¯]/g, (match) => {
    // æ±‰å­—ä¿æŒåŸæ ·ï¼Œä½†ç”¨ç©ºæ ¼åˆ†éš”
    return ` ${match} `;
  });
  
  // æ¸…ç†å¤šä½™çš„ç©ºæ ¼
  result = result.replace(/\s+/g, ' ').trim();
  
  return result;
};

// æµ‹è¯•ç”¨ä¾‹
const testCases = [
  'ç§ã¯æ±äº¬ã«ä½ã‚“ã§ã„ã¾ã™ã€‚',
  'å½¼å¥³ã¯æ¯æ—¥ã‚Šã‚“ã”ã‚’é£Ÿã¹ã¾ã™ã€‚',
  'å½¼ã¯ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’é£²ã¿ã¾ã™ã€‚',
  'å‹é”ã¨å…¬åœ’ã«è¡Œãã¾ã™ã€‚',
  'å½¼ã¯æ¯æ™©æœ¬ã‚’èª­ã¿ã¾ã™ã€‚',
  'ã“ã‚“ã«ã¡ã¯ã€ãŠå…ƒæ°—ã§ã™ã‹ã€‚',
  'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚',
  'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€‚',
  'ã•ã‚ˆã†ãªã‚‰ã€‚',
  'ã„ãŸã ãã¾ã™ã€‚'
];

console.log('ğŸ§ª æµ‹è¯•ç½—é©¬éŸ³è½¬æ¢åŠŸèƒ½...\n');

testCases.forEach((testCase, index) => {
  const romaji = convertToRomaji(testCase);
  console.log(`${index + 1}. æ—¥è¯­: ${testCase}`);
  console.log(`   ç½—é©¬éŸ³: ${romaji}`);
  console.log('');
});

console.log('âœ… æµ‹è¯•å®Œæˆï¼'); 
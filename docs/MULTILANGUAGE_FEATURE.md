# 🌍 多语言学习功能

## 功能概述

剧词记现在支持多语言学习！中文用户可以选择学习英语、韩语、日语等多种语言，每种语言都有独立的学习进度和优化体验。

## 🎯 核心特性

### 1. 语言选择器
- **位置**：HomeScreen 搜索框下方
- **功能**：一键切换学习语言
- **显示**：国旗图标 + 语言名称 + 学习进度

### 2. 多语言支持
- 🇺🇸 **英语**：IPA音标、美音发音
- 🇰🇷 **韩语**：韩文字母、发音规则
- 🇯🇵 **日语**：平假名/片假名、汉字标注

### 3. 独立学习进度
- 每种语言独立的学习记录
- 独立的艾宾浩斯复习算法
- 独立的词汇库和统计数据

## 🚀 使用方法

### 切换语言
1. 在首页搜索框下方找到语言选择器
2. 点击想要学习的语言
3. 搜索框占位符会自动更新为对应语言
4. 开始搜索该语言的单词

### 学习流程
1. **查词**：输入目标语言单词
2. **学习**：查看释义、例句、发音
3. **收藏**：添加到生词本
4. **复习**：使用艾宾浩斯算法复习

## 🔧 技术实现

### 前端架构
```typescript
// 语言配置
export const SUPPORTED_LANGUAGES = {
  ENGLISH: { code: 'en', name: '英语', flag: '🇺🇸' },
  KOREAN: { code: 'ko', name: '韩语', flag: '🇰🇷' },
  JAPANESE: { code: 'ja', name: '日语', flag: '🇯🇵' },
};

// 语言上下文
const { selectedLanguage, setSelectedLanguage } = useLanguage();
```

### 后端架构
```typescript
// 数据模型支持多语言
interface CloudWord {
  word: string;
  language: string; // 'en', 'ko', 'ja'
  definitions: WordDefinition[];
  // ...
}

// API支持语言参数
POST /api/words/search
{
  "word": "hello",
  "language": "en"
}
```

### 缓存策略
- 按语言分别缓存单词数据
- 缓存键格式：`${word}_${language}`
- 内存缓存 + 数据库持久化

## 📊 学习数据

### 语言进度
```typescript
interface LanguageProgress {
  totalWords: number;      // 总单词数
  masteredWords: number;   // 已掌握单词数
  currentStreak: number;   // 连续学习天数
  lastStudyDate: string;   // 最后学习日期
  level: number;          // 当前等级
}
```

### 统计数据
- 每种语言的独立学习统计
- 学习时长、复习次数、掌握度
- 学习曲线和进步趋势

## 🎨 UI/UX 设计

### 语言选择器
- **紧凑模式**：HomeScreen 使用
- **完整模式**：设置页面使用
- **进度显示**：可选显示学习进度

### 视觉反馈
- 选中状态：蓝色边框 + 勾选图标
- 进度显示：单词数量统计
- 动画效果：平滑切换过渡

## 🔮 未来扩展

### 计划功能
- [ ] 韩语/日语特定功能
- [ ] 语言特定的AI翻译
- [ ] 多语言内容库
- [ ] 跨语言词汇关联

### 新语言支持
- [ ] 法语 (fr)
- [ ] 德语 (de)
- [ ] 西班牙语 (es)
- [ ] 意大利语 (it)

## 🐛 已知问题

1. **AI翻译**：韩语和日语的AI翻译需要优化
2. **发音资源**：韩语和日语的发音API需要集成
3. **内容库**：韩语和日语的内容资源需要扩充

## 📝 开发日志

### v1.0.0 (当前版本)
- ✅ 基础多语言支持
- ✅ 语言选择器UI
- ✅ 后端多语言数据模型
- ✅ 独立学习进度
- ✅ 缓存策略优化

### 下一步计划
- 🔄 韩语/日语特定功能开发
- 🔄 多语言内容库建设
- 🔄 用户体验优化

---

**注意**：多语言功能目前处于测试阶段，建议主要使用英语功能，韩语和日语功能将在后续版本中完善。 